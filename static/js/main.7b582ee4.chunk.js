(this["webpackJsonptypescript-quizz-app"]=this["webpackJsonptypescript-quizz-app"]||[]).push([[0],{18:function(e,t,n){e.exports=n(42)},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),o=n(7),u=n(2),l=n(5),s=n.n(l),m=function(e){var t=e.flashcard,n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)(0),s=Object(u.a)(l,2),m=s[0],d=s[1],f=Object(a.useRef)(null),p=Object(a.useRef)(null),v=Object(a.useRef)(document.createElement("div")),b=function(){var e,t,n=(null===(e=f.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0,a=(null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect().height)||0;d(Math.max(n,a,100))};Object(a.useEffect)((function(){setTimeout((function(){b()}),1500)}),[t.question]),Object(a.useEffect)((function(){return window.addEventListener("resize",b),function(){return window.removeEventListener("resize",b)}}),[]);return r.a.createElement("div",{className:"card ".concat(i?"flip":""),style:{height:"".concat(m>100?"".concat(m,"px"):"100px")},onClick:function(){return o(!i)},ref:v},r.a.createElement("div",{className:"front",ref:f},r.a.createElement("div",{className:"question-title"},r.a.createElement("h4",null,t.question)),r.a.createElement("div",{className:"options"},t.options.map((function(e,n){return r.a.createElement("button",{"data-value":e,className:"option",key:n,onClick:function(e){return n=e,o(!i),n.currentTarget.getAttribute("data-value")===t.answer?v.current.style.backgroundColor="green":v.current.style.backgroundColor="red",void setTimeout((function(){v.current.style.backgroundColor="white"}),1e3);var n}},e)})))),r.a.createElement("div",{className:"back",ref:p},t.answer))},d=(n(40),function(){return r.a.createElement("span",{className:"spinner"})}),f=n(6),p={hidden:{opacity:1,scale:0},visible:{opacity:1,scale:1,transition:{delay:.3,when:"beforeChildren",staggerChildren:.1}}},v={hidden:{opacity:0},visible:{opacity:1}},b=function(e){var t=e.flashcards;return r.a.createElement("div",null,t&&t.length?r.a.createElement(f.a.ul,{initial:"hidden",animate:"visible",variants:p},r.a.createElement("div",{className:"card-grid"},t.map((function(e){return r.a.createElement(f.a.div,{variants:v,key:e.id},r.a.createElement(m,{flashcard:e}))})))):r.a.createElement("div",{className:"card-grid"},[1,2,3,4].map((function(e,t){return r.a.createElement(f.a.div,{key:t,variants:v,className:"card"},r.a.createElement(d,null))}))))},E=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},h=(n(41),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(),l=Object(u.a)(i,2),m=l[0],d=l[1],f=Object(a.useState)(!0),p=Object(u.a)(f,2),v=p[0],h=p[1],g=Object(a.useState)([]),y=Object(u.a)(g,2),j=y[0],O=y[1],w=Object(a.useRef)(null),N=Object(a.useRef)(null);Object(a.useEffect)((function(){s.a.get("https://opentdb.com/api_category.php").then((function(e){O(e.data.trivia_categories),h(!1)}))}),[]),Object(a.useEffect)((function(){s.a.get("https://opentdb.com/api.php?amount=10").then((function(e){c(e.data.results.map((function(e,t){var n=E(e.correct_answer),a=[].concat(Object(o.a)(e.incorrect_answers.map((function(e){return E(e)}))),[n]);return{id:"".concat(t,"-").concat(Date.now()),question:E(e.question),answer:E(n),options:a.sort((function(){return Math.random()-.5}))}})))})).catch((function(){return d("Sorry, the API is not responding right now, try again later.")}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"header",onSubmit:function(e){return function(e){var t,n;e.preventDefault(),s.a.get("https://opentdb.com/api.php?amount=10",{params:{amount:null===(t=N.current)||void 0===t?void 0:t.value,category:null===(n=w.current)||void 0===n?void 0:n.value}}).then((function(e){c(e.data.results.map((function(e,t){var n=E(e.correct_answer),a=[].concat(Object(o.a)(e.incorrect_answers.map((function(e){return E(e)}))),[n]);return{id:"".concat(t,"-").concat(Date.now()),question:E(e.question),answer:E(n),options:a.sort((function(){return Math.random()-.5}))}})))}))}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{name:"category",id:"category",ref:w},j.length?j.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})):r.a.createElement("option",null,"Loading..."))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"amount"},"Number of Questions"),r.a.createElement("input",{disabled:v,type:"number",id:"amount",min:"1",step:"1",defaultValue:10,ref:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{disabled:v,className:"btn ".concat(v?"disabled":""),type:"submit"},v?"Loading...":"Generate"))),r.a.createElement("div",{className:"container"},m&&r.a.createElement("p",{className:"error-msg"},m),r.a.createElement(b,{flashcards:n})),";")});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7b582ee4.chunk.js.map